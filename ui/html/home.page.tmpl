{{template "base" .}}
{{define "title"}}HOME{{end}}
{{define "body"}}
<div style="background-color: #fff; padding: 10px; width: 100%; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); position: fixed; top: 0; left: 0; z-index: 999;">
    <div class="action-btns" style="float: left;">
        <img src="/images/lets-split-logo.png" alt="Logo image" style="width: 130px; height: 50px; padding-left: 40px;">
    </div>
    <div class="action-btns" style="float: right;">
        <button onclick="location.href='/logout'">Logout</button>
    </div>
    <div class="action-btns" style="float: right;">
        <button onclick="location.href='submit_expense'">Create Split</button>
    </div>
    {{if eq .UserId 1}}
    <div class="action-btns" style="float: right;">
        <button onclick="location.href='/allusers'">Users</button>
    </div>
    {{end}}
    <div style="clear: both;"></div>
</div>

<div style="margin-top: 30px;"> 
    <div style="display: flex;">
        <div style="width: 30%; padding: 50px;">
            <h2>Your Splits</h2>
            {{range .YourSplit}}
            <a style="text-decoration: none; color: black;" class="split-link" href="/expense_details?expenseId={{.ExpenseId}}">
            <div class="split-box">
                <span class="split-title">{{.Title}}</span>
                <p class="split-note">{{.Note}}</p>
                <span class="split-amount" >Rs: {{.Amount}}</span>
                <span class="split-date">{{.Date}}</span><br>
                <span style="font-size: 12px; color: grey; font-style: italic;">Spent by {{.CreatedUserName}}</span>
                <span class="split-status" style="background-color: {{if eq .Status 0}}#ffcc00{{else if eq .Status 2}}grey{{else}}#4caf50{{end}};">
                    {{if eq .Status 0}}Pending  {{else if eq .Status 2}}Cancelled{{else}}Paid{{end}}
                </span>
                
                {{if eq .Status 0}}
                <button " onclick="location.href='/cancelexpense?expenseId={{.ExpenseId}}'" style=" z-index: 2;position:relative;background-color: #ff5555; float : right; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer;">Cancel</button>
                {{end}}
            </div>
            {{end}}
        </div>
</a>
        <div style="width: 50%; padding: 50px;">
            <h2>Splits your attention needed</h2>
            {{range .Involved}}
            <a style="text-decoration: none; color: black;" class="split-link" href="/expense_details?expenseId={{.ExpenseId}}">
           <div class="split-box">
                <span class="split-title">{{.Title}}</span>
                <p class="split-note">{{.Note}}</p>
                <span class="split-amount" >Rs: {{.Amount}}</span>
                <span class="split-date">{{.Date}}</span><br>
                <span style="font-size: 12px; color: grey; font-style: italic;">Spent by {{.CreatedUserName}}</span>
                <span class="split-status" style="float: right; background-color: {{if eq .Status 0}}#ffcc00{{else}}#4caf50{{end}};">
                    {{if eq .Status 0}}Pending{{else}}Paid{{end}}
                </span>
            </div>
            </a>
            {{end}}
        </div>
    </div>
</div>
{{end}}
