{{template "base" .}}
{{define "title"}}HOME{{end}}
{{define "header"}}
    <div class="action-btns" style="float: right;">
        <button onclick="location.href='/logout'">Logout</button>
    </div>
    <div class="action-btns" style="float: right;">
        <button onclick="location.href='submit_expense'">Create Split</button>
    </div>
    {{if eq .UserId 1}}
    <div class="action-btns" style="float: right;">
        <button onclick="location.href='/allusers'">Users</button>
    </div>
    {{end}}
{{end}}
{{define "body"}}
<br><br>

<div style="margin-top: 30px;"> 
    <div style="display: flex;">
        <div style="width: 30%; padding: 50px;">
            <h2>Your Splits</h2>
            {{range .YourSplit}}
            <a style="text-decoration: none; color: black;" class="split-link" href="/expense_details?expenseId={{.ExpenseId}}">
            <div class="split-box">
            
                <span class="split-amount">Rs: {{.Amount}}</span>
                <span class="split-date">{{.Date}}</span>
                <p class="split-note">Note: {{.Note}}</p>
                <span class="split-status" style="background-color: {{if eq .Status 0}}#ffcc00{{else if eq .Status 2}}grey{{else}}#4caf50{{end}};">
                    {{if eq .Status 0}}Pending  {{else if eq .Status 2}}Cancelled{{else}}Paid{{end}}
                </span>
                </a>
                {{if eq .Status 0}}
                <button " onclick="location.href='/cancelexpense?expenseId={{.ExpenseId}}'" style="background-color: #ff5555; float : right; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer;">Cancel</button>
                {{end}}
            </div>
            
            {{end}}
        </div>

        <div style="width: 50%; padding: 50px;">
            <h2>Splits your attention needed</h2>
            {{range .Involved}}
            <a style="text-decoration: none; color: black;" class="split-link" href="/expense_details?expenseId={{.ExpenseId}}">
            <div class="split-box">
                <span class="split-amount">Rs: {{.Amount}}</span>
                <span class="split-date">{{.Date}}</span>
                <p class="split-note">Note: {{.Note}}</p>
                <span class="split-status" style="background-color: {{if eq .Status 0}}#ffcc00{{else}}#4caf50{{end}};">
                    {{if eq .Status 0}}Pending{{else}}Paid{{end}}
                </span>
            </div>
            </a>
            {{end}}
        </div>
    </div>
</div>
{{end}}
